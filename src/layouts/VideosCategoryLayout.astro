---
// src/layouts/VideosCategoryLayout.astro - Layout para categor√≠as de videos con estilo magazine
import Layout from './Layout.astro';

// ===================================================================
// FUNCIONES HELPER PARA VALIDACI√ìN DEFENSIVA
// ===================================================================

function safeGet(obj, path, defaultValue = null) {
  try {
    return path.split('.').reduce((current, key) => current && current[key], obj) || defaultValue;
  } catch (error) {
    console.warn('safeGet error:', error, 'path:', path);
    return defaultValue;
  }
}

function safeArray(arr, defaultValue = []) {
  return Array.isArray(arr) ? arr : defaultValue;
}

function safeString(str, defaultValue = '') {
  return typeof str === 'string' ? str : defaultValue;
}

function safeObject(obj, defaultValue = {}) {
  return obj && typeof obj === 'object' && !Array.isArray(obj) ? obj : defaultValue;
}

function safeNumber(num, defaultValue = 0) {
  return typeof num === 'number' && !isNaN(num) ? num : defaultValue;
}

// ===================================================================
// EXTRACCI√ìN DE DATOS DEL PROP CON VALIDACI√ìN DEFENSIVA
// ===================================================================

const { data } = Astro.props;
const language = safeString(data?.language, 'es');
const categorySlug = safeString(data?.category?.slug || data?.categorySlug || data?.slug, 'general');

// ===================================================================
// PROCESAMIENTO DEFENSIVO DE DATOS
// ===================================================================

let categoryData = safeObject(data);

// Configuraciones por defecto de categor√≠as
const categoryConfigs = {
  'lanzamientos': {
    title: language === 'es' ? 'Lanzamientos' :
           language === 'en' ? 'New Launches' :
           'Nouveaux Lancements',
    description: language === 'es' ? 'Los proyectos inmobiliarios m√°s nuevos y exclusivos de Rep√∫blica Dominicana. Descubre las oportunidades antes que nadie.' :
                 language === 'en' ? 'The newest and most exclusive real estate projects in Dominican Republic. Discover opportunities before anyone else.' :
                 'Les projets immobiliers les plus nouveaux et exclusifs de R√©publique dominicaine. D√©couvrez les opportunit√©s avant tout le monde.',
    icon: 'fa-rocket'
  },
  'consejos': {
    title: language === 'es' ? 'Consejos y Tips' :
           language === 'en' ? 'Tips & Advice' :
           'Conseils et Astuces',
    description: language === 'es' ? 'Consejos expertos para comprar, vender, alquilar e invertir en propiedades. Aprende de los profesionales.' :
                 language === 'en' ? 'Expert advice for buying, selling, renting and investing in properties. Learn from professionals.' :
                 'Conseils d\'experts pour acheter, vendre, louer et investir dans l\'immobilier. Apprenez des professionnels.',
    icon: 'fa-lightbulb'
  },
  'diseno-y-decoracion': {
    title: language === 'es' ? 'Dise√±o y Decoraci√≥n' :
           language === 'en' ? 'Design & Decoration' :
           'Design et D√©coration',
    description: language === 'es' ? 'Ideas, tendencias y consejos profesionales para transformar tu hogar en un espacio √∫nico y espectacular.' :
                 language === 'en' ? 'Ideas, trends and professional advice to transform your home into a unique and spectacular space.' :
                 'Id√©es, tendances et conseils professionnels pour transformer votre maison en un espace unique et spectaculaire.',
    icon: 'fa-palette'
  },
  'la-casa-de-los-famosos': {
    title: language === 'es' ? 'La Casa de Los Famosos' :
           language === 'en' ? 'Celebrity Homes' :
           'Maisons des C√©l√©brit√©s',
    description: language === 'es' ? 'Tours exclusivos por las propiedades m√°s impresionantes de las celebridades dominicanas. Descubre c√≥mo viven las estrellas.' :
                 language === 'en' ? 'Exclusive tours of the most impressive properties of Dominican celebrities. Discover how the stars live.' :
                 'Visites exclusives des propri√©t√©s les plus impressionnantes des c√©l√©brit√©s dominicaines. D√©couvrez comment vivent les stars.',
    icon: 'fa-star'
  },
  'entrevistas': {
    title: language === 'es' ? 'Entrevistas Exclusivas' :
           language === 'en' ? 'Exclusive Interviews' :
           'Entretiens Exclusifs',
    description: language === 'es' ? 'Conversaciones √≠ntimas con personalidades sobre sus hogares, inversiones y estilo de vida inmobiliario.' :
                 language === 'en' ? 'Intimate conversations with personalities about their homes, investments and real estate lifestyle.' :
                 'Conversations intimes avec des personnalit√©s sur leurs maisons, investissements et style de vie immobilier.',
    icon: 'fa-microphone'
  },
  'recorridos': {
    title: language === 'es' ? 'Recorridos de Propiedades' :
           language === 'en' ? 'Property Tours' :
           'Visites de Propri√©t√©s',
    description: language === 'es' ? 'Tours detallados por propiedades disponibles para venta y alquiler. Ve cada detalle antes de decidir.' :
                 language === 'en' ? 'Detailed tours of properties available for sale and rent. See every detail before deciding.' :
                 'Visites d√©taill√©es de propri√©t√©s disponibles √† la vente et √† la location. Voyez chaque d√©tail avant de d√©cider.',
    icon: 'fa-video'
  }
};

// Obtener configuraci√≥n de categor√≠a o usar fallback
const currentConfig = categoryConfigs[categorySlug] || categoryConfigs['recorridos'];

// Crear datos seguros de categor√≠a
const safeCategoryData = {
  language: language,
  category: categorySlug,
  categorySlug: categorySlug,
  title: safeString(safeGet(categoryData, 'category.name') || categoryData.title || currentConfig.title),
  description: safeString(safeGet(categoryData, 'category.description') || categoryData.description || currentConfig.description),
  icon: safeString(currentConfig.icon),
  slug: safeString(safeGet(categoryData, 'category.slug') || categoryData.slug || categorySlug),
  url: safeString(safeGet(categoryData, 'category.url') || categoryData.url || `#${categorySlug}`)
};

// Procesar videos de forma defensiva
const rawVideos = safeArray(categoryData.videos);
const safeVideos = rawVideos.map((video, index) => ({
  id: safeString(video.id, `video-${index}`),
  slug: safeString(video.slug, `video-${index}`),
  title: safeString(video.title, 'Video sin t√≠tulo'),
  description: safeString(video.description, 'Descripci√≥n no disponible'),
  thumbnail: safeString(video.thumbnail, 'https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=800&h=600&fit=crop'),
  videoSlug: safeString(video.videoSlug || video.slug, '#'),
  duration: safeString(video.duration, '0:00'),
  publishedAt: safeString(video.publishedAt, new Date().toISOString()),
  views: safeNumber(video.views, 0),
  featured: Boolean(video.featured),
  author: safeObject(video.author, {
    name: 'Equipo CLIC',
    avatar: 'https://pacewqgypevfgjmdsorz.supabase.co/storage/v1/object/public/avatars/profile_photos/6e9575f8-d8ef-4671-aa7f-e7193a2d3f21_1751833067618.jpg',
    slug: 'equipo-clic',
    position: language === 'es' ? 'Especialista Inmobiliario' :
              language === 'en' ? 'Real Estate Specialist' :
              'Sp√©cialiste Immobilier'
  }),
  url: safeString(video.url, '#')
}));

// Encontrar el video m√°s popular (mayor views)
const mostPopularVideo = safeVideos.length > 0 ? 
  safeVideos.reduce((prev, current) => 
    (current.views > prev.views) ? current : prev, 
    safeVideos[0]
  ) : null;

// Videos para el grid (excluir el m√°s popular si hay m√°s de 1)
const gridVideos = safeVideos.length > 1 ? 
  safeVideos.filter(video => video.id !== mostPopularVideo?.id) : 
  [];

// Funci√≥n para truncar descripci√≥n HTML
function truncateDescription(htmlContent, maxLength = 150) {
  if (!htmlContent) return '';
  
  // Remover tags HTML y truncar
  const textContent = htmlContent.replace(/<[^>]*>/g, '').trim();
  if (textContent.length <= maxLength) return textContent;
  
  return textContent.substring(0, maxLength).trim() + '...';
}

// SEO seguro
const safeSeo = {
  title: safeString(safeGet(categoryData, 'seo.title'), `${safeCategoryData.title} - Videos CLIC`),
  description: safeString(safeGet(categoryData, 'seo.description'), safeCategoryData.description),
  breadcrumbs: safeArray(safeGet(categoryData, 'seo.breadcrumbs'), [
    {
      name: language === 'en' ? 'Home' : language === 'fr' ? 'Accueil' : 'Inicio',
      url: language === 'es' ? '/' : `/${language}/`
    },
    {
      name: language === 'en' ? 'Videos' : language === 'fr' ? 'Vid√©os' : 'Videos',
      url: language === 'es' ? '/videos' : `/${language}/videos`
    },
    {
      name: safeCategoryData.title,
      url: language === 'es' ? `/videos/${categorySlug}` : `/${language}/videos/${categorySlug}`
    }
  ])
};

// ===================================================================
// PREPARAR PROPS PARA LAYOUT CON DATOS SEO COMPLETOS
// ===================================================================

const layoutProps = {
  title: safeSeo.title,
  description: safeSeo.description,
  ogImage: safeGet(categoryData, 'seo.ogImage') || '/og-videos.jpg',
  canonical: safeGet(categoryData, 'seo.canonical_url') || (language === 'es' ? `/videos/${categorySlug}` : `/${language}/videos/${categorySlug}`),
  keywords: safeGet(categoryData, 'seo.keywords') || `${safeCategoryData.title}, videos inmobiliarios, Rep√∫blica Dominicana`,
  hreflangData: safeGet(categoryData, 'seo.hreflang') || {},
  globalConfig: data?.globalConfig || categoryData?.globalConfig || {},
  language: language,
  trackingString: categoryData?.trackingString || '',
  hotItems: categoryData?.hotItems || {},
  country: categoryData?.country || {},
  breadcrumbs: safeSeo.breadcrumbs,
  structuredData: safeGet(categoryData, 'seo.structured_data') || {
    "@context": "https://schema.org",
    "@type": "VideoGallery",
    "name": safeSeo.title,
    "description": safeSeo.description,
    "url": `${data?.domainInfo?.realDomain || 'https://clicinmobiliaria.com'}${language === 'es' ? `/videos/${categorySlug}` : `/${language}/videos/${categorySlug}`}`,
    "publisher": {
      "@type": "Organization", 
      "name": "CLIC Inmobiliaria"
    }
  },
  openGraph: safeGet(categoryData, 'seo.open_graph') || {
    title: safeSeo.title,
    description: safeSeo.description,
    type: 'website',
    site_name: 'CLIC Inmobiliaria'
  },
  twitterCard: safeGet(categoryData, 'seo.twitter_card') || {}
};

// ===================================================================
// TEXTOS POR IDIOMA
// ===================================================================

const TEXTS = {
  es: {
    breadcrumbVideos: 'Videos',
    watchVideo: 'Ver video',
    watchFull: 'Ver video completo',
    showMore: 'Ver descripci√≥n completa',
    showLess: 'Mostrar menos',
    moreVideos: 'M√°s videos de',
    duration: 'duraci√≥n',
    views: 'visualizaciones',
    author: 'Por',
    publishedOn: 'Publicado el',
    videos: 'videos',
    noVideos: 'A√∫n no hay videos',
    noVideosDesc: 'Vuelve pronto para encontrar nuevo contenido en esta categor√≠a.',
    backToVideos: 'Ver todos los videos',
    featuredVideo: 'Video destacado'
  },
  en: {
    breadcrumbVideos: 'Videos',
    watchVideo: 'Watch video',
    watchFull: 'Watch full video',
    showMore: 'Show full description',
    showLess: 'Show less',
    moreVideos: 'More videos in',
    duration: 'duration',
    views: 'views',
    author: 'By',
    publishedOn: 'Published on',
    videos: 'videos',
    noVideos: 'No videos yet',
    noVideosDesc: 'Check back soon for new content in this category.',
    backToVideos: 'See all videos',
    featuredVideo: 'Featured video'
  },
  fr: {
    breadcrumbVideos: 'Vid√©os',
    watchVideo: 'Regarder la vid√©o',
    watchFull: 'Regarder la vid√©o compl√®te',
    showMore: 'Voir la description compl√®te',
    showLess: 'Afficher moins',
    moreVideos: 'Plus de vid√©os de',
    duration: 'dur√©e',
    views: 'vues',
    author: 'Par',
    publishedOn: 'Publi√© le',
    videos: 'vid√©os',
    noVideos: 'Pas encore de vid√©os',
    noVideosDesc: 'Revenez bient√¥t pour du nouveau contenu dans cette cat√©gorie.',
    backToVideos: 'Voir toutes les vid√©os',
    featuredVideo: 'Vid√©o √† la une'
  }
};

const text = TEXTS[language] || TEXTS.es;

// URLs seg√∫n idioma
const routes = {
  es: {
    videosBase: '/videos'
  },
  en: {
    videosBase: '/en/videos'
  },
  fr: {
    videosBase: '/fr/videos'
  }
};

const currentRoutes = routes[language] || routes.es;

// Funci√≥n para formatear fecha
function formatDate(dateString) {
  try {
    const date = new Date(dateString);
    if (isNaN(date.getTime())) {
      return language === 'en' ? 'Recent' : language === 'fr' ? 'R√©cent' : 'Reciente';
    }
    
    const months = {
      es: ['enero', 'febrero', 'marzo', 'abril', 'mayo', 'junio', 'julio', 'agosto', 'septiembre', 'octubre', 'noviembre', 'diciembre'],
      en: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],
      fr: ['janvier', 'f√©vrier', 'mars', 'avril', 'mai', 'juin', 'juillet', 'ao√ªt', 'septembre', 'octobre', 'novembre', 'd√©cembre']
    };
    
    const monthNames = months[language] || months.es;
    return `${date.getDate()} de ${monthNames[date.getMonth()]} de ${date.getFullYear()}`;
  } catch (error) {
    return language === 'en' ? 'Recent' : language === 'fr' ? 'R√©cent' : 'Reciente';
  }
}
---

<Layout {...layoutProps}>
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />

  <div class="min-h-screen bg-gray-50">
    
    <!-- Hero Section - Dise√±o oscuro premium compacto como en MainLayout original -->
    <section class="relative bg-gradient-to-br from-gray-900 via-slate-800 to-gray-900 py-12 md:py-16 overflow-hidden">
      <!-- Efectos de fondo decorativos -->
      <div class="absolute inset-0">
        <div class="absolute inset-0 bg-gradient-to-b from-transparent via-black/20 to-black/40"></div>
        <div class="absolute top-0 left-0 w-72 h-72 bg-[#f04e00] rounded-full filter blur-[120px] opacity-10"></div>
        <div class="absolute bottom-0 right-0 w-72 h-72 bg-[#f04e00] rounded-full filter blur-[120px] opacity-10"></div>
      </div>
      
      <div class="container mx-auto px-4 relative z-10">
        <!-- Breadcrumbs -->
        <nav class="flex items-center text-sm space-x-2 text-gray-300 mb-6 overflow-x-auto whitespace-nowrap pb-2">
          {safeSeo.breadcrumbs.map((crumb, i) => (
            <span class="flex items-center space-x-2">
              {i > 0 && <i class="fas fa-chevron-right text-xs"></i>}
              <a 
                href={crumb.url} 
                class={`hover:text-white transition-colors ${i === safeSeo.breadcrumbs.length - 1 ? 'font-semibold text-white' : ''}`}
              >
                {crumb.name}
              </a>
            </span>
          ))}
        </nav>
        
        <!-- Hero Content -->
        <div class="flex items-start gap-6">
          <!-- Icono de categor√≠a -->
          <div class="w-16 h-16 bg-white/10 rounded-lg flex items-center justify-center text-white text-3xl backdrop-blur-sm flex-shrink-0 hidden md:flex">
            <i class={`fas ${safeCategoryData.icon}`}></i>
          </div>
          
          <div>
            <h1 class="text-3xl md:text-4xl lg:text-5xl font-bold text-white mb-4 leading-tight">
              {text.title || safeCategoryData.title}
            </h1>
            <p class="text-base md:text-lg text-gray-300 max-w-3xl leading-relaxed">
              {safeCategoryData.description}
            </p>
          </div>
        </div>
      </div>
    </section>

    <main class="py-12 bg-gray-50">
      <div class="container mx-auto px-4">
        
        {safeVideos.length > 0 ? (
          <div class="space-y-16">
            {/* Video principal - mostrar solo si hay videos */}
            {mostPopularVideo && (
              <article class="bg-white rounded-xl shadow-lg overflow-hidden mb-16">
                <div class="grid grid-cols-1 lg:grid-cols-5 gap-0">
                  
                  {/* Video Thumbnail Column (larger) */}
                  <div class="lg:col-span-3 aspect-video lg:aspect-auto relative">
                    <a href={mostPopularVideo.url} class="block w-full h-full">
                      <img 
                        src={mostPopularVideo.thumbnail} 
                        alt={mostPopularVideo.title}
                        class="w-full h-full object-cover"
                      />
                      <div class="absolute inset-0 bg-black/30 opacity-0 hover:opacity-100 transition-opacity duration-300 flex items-center justify-center">
                        <div class="w-16 h-16 bg-white/90 rounded-full flex items-center justify-center">
                          <i class="fas fa-play text-xl text-[#f04e00] ml-1"></i>
                        </div>
                      </div>
                      {/* Duration badge */}
                      <div class="absolute bottom-4 right-4 bg-black/70 text-white px-3 py-1.5 rounded text-sm font-medium">
                        {mostPopularVideo.duration}
                      </div>
                      {/* Featured badge */}
                      {mostPopularVideo.featured && (
                        <div class="absolute top-4 left-4 bg-[#f04e00] text-white px-3 py-1.5 rounded text-sm font-medium">
                          {text.featuredVideo}
                        </div>
                      )}
                    </a>
                  </div>
                  
                  {/* Content Column */}
                  <div class="lg:col-span-2 p-6 lg:p-8 flex flex-col">
                    <a href={mostPopularVideo.url}>
                      <h2 class="text-2xl font-bold text-gray-900 mb-3 hover:text-[#f04e00] transition-colors line-clamp-2">
                        {mostPopularVideo.title}
                      </h2>
                    </a>
                    
                    {/* Video meta info */}
                    <div class="flex items-center justify-between text-sm text-gray-500 mb-6">
                      <div class="flex items-center gap-2">
                        <img 
                          src={mostPopularVideo.author.avatar} 
                          alt={mostPopularVideo.author.name}
                          class="w-8 h-8 rounded-full"
                        />
                        <div>
                          <span class="font-medium block">{mostPopularVideo.author.name}</span>
                          <span class="text-xs">{mostPopularVideo.author.position}</span>
                        </div>
                      </div>
                      <span class="flex items-center gap-1">
                        <i class="far fa-eye"></i>
                        {mostPopularVideo.views.toLocaleString()} {language === 'en' ? 'views' : language === 'fr' ? 'vues' : 'vistas'}
                      </span>
                    </div>
                    
                    {/* Video description */}
                    <div class="mb-6 text-gray-600 text-sm leading-relaxed magazine-text">
                      {truncateDescription(mostPopularVideo.description, 240)}
                    </div>
                    
                    {/* Action buttons */}
                    <div class="mt-auto">
                      <a 
                        href={mostPopularVideo.url}
                        class="inline-flex items-center justify-center gap-2 bg-[#f04e00] text-white px-5 py-3 rounded-lg font-medium hover:bg-[#d94400] transition-colors"
                      >
                        <i class="fas fa-play"></i>
                        {text.watchFull}
                      </a>
                    </div>
                  </div>
                </div>
              </article>
            )}

            {/* Grid de videos adicionales - solo mostrar si hay m√°s de 1 video */}
            {gridVideos.length > 0 && (
              <section class="max-w-6xl mx-auto">
                <h2 class="text-2xl md:text-3xl font-bold text-gray-900 mb-8">
                  {text.moreVideos} {safeCategoryData.title}
                </h2>
                
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
                  {gridVideos.map((video, index) => (
                    <article class="bg-white rounded-lg shadow-md hover:shadow-xl transition-all duration-300 overflow-hidden group" key={video.id}>
                      <a href={video.url} class="block">
                        <!-- Video Thumbnail -->
                        <div class="aspect-video relative overflow-hidden">
                          <img 
                            src={video.thumbnail} 
                            alt={video.title}
                            class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"
                          />
                          <!-- Play button overlay -->
                          <div class="absolute inset-0 bg-black/20 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                            <div class="w-12 h-12 bg-white/90 rounded-full flex items-center justify-center">
                              <i class="fas fa-play text-lg text-[#f04e00] ml-0.5"></i>
                            </div>
                          </div>
                          <!-- Duration badge -->
                          <div class="absolute bottom-2 right-2 bg-black/70 text-white px-2 py-1 rounded text-xs">
                            {video.duration}
                          </div>
                        </div>
                        
                        <!-- Content -->
                        <div class="p-6">
                          <h3 class="text-lg font-bold text-gray-900 mb-3 line-clamp-2 group-hover:text-[#f04e00] transition-colors leading-tight">
                            {video.title}
                          </h3>
                          
                          <p class="text-gray-600 mb-4 line-clamp-3 text-sm leading-relaxed">
                            {truncateDescription(video.description, 120)}
                          </p>
                          
                          <!-- Meta -->
                          <div class="flex items-center justify-between text-sm text-gray-500 mb-4">
                            <div class="flex items-center gap-2">
                              <img 
                                src={video.author.avatar} 
                                alt={video.author.name}
                                class="w-6 h-6 rounded-full"
                              />
                              <span class="truncate font-medium">{video.author.name}</span>
                            </div>
                            <span class="flex items-center gap-1">
                              <i class="far fa-eye"></i>
                              {video.views.toLocaleString()}
                            </span>
                          </div>
                          
                          <!-- Watch link -->
                          <div class="inline-flex items-center gap-2 text-[#f04e00] font-medium text-sm group-hover:gap-3 transition-all">
                            <span>{text.watchVideo}</span>
                            <i class="fas fa-play transition-transform group-hover:translate-x-1"></i>
                          </div>
                        </div>
                      </a>
                    </article>
                  ))}
                </div>
              </section>
            )}
          </div>
        ) : (
          /* Estado vac√≠o */
          <div class="text-center py-16 max-w-2xl mx-auto">
            <div class="text-8xl mb-6">üé•</div>
            <h3 class="text-2xl font-bold text-gray-900 mb-4">
              {text.noVideos}
            </h3>
            <p class="text-gray-600 mb-8 text-lg">
              {text.noVideosDesc}
            </p>
            <a 
              href={currentRoutes.videosBase}
              class="inline-flex items-center gap-2 bg-[#f04e00] text-white px-6 py-3 rounded-lg font-medium hover:bg-[#d94400] transition-colors"
            >
              <i class="fas fa-arrow-left"></i>
              {text.backToVideos}
            </a>
          </div>
        )}

      </div>
    </main>

  </div>
</Layout>

<style>
  .line-clamp-1 {
    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* Magazine-style text formatting */
  .magazine-text {
    text-align: justify;
    hyphens: auto;
    -webkit-hyphens: auto;
    -moz-hyphens: auto;
    -ms-hyphens: auto;
  }

  /* Float behavior for magazine layout */
  .magazine-text p:first-child,
  .magazine-text p:nth-child(2) {
    text-indent: 0;
  }

  .magazine-text p:not(:first-child):not(:nth-child(2)) {
    text-indent: 1.5em;
  }

  /* Better floating video behavior */
  figure.float-left {
    shape-outside: margin-box;
    margin-bottom: 1.5rem;
  }

  /* Video thumbnail specific styles */
  .aspect-video {
    aspect-ratio: 16 / 9;
  }

  /* Better responsive behavior */
  @media (max-width: 1024px) {
    figure.float-left {
      width: 320px !important;
    }
  }

  @media (max-width: 768px) {
    figure.float-left {
      float: none !important;
      width: 100% !important;
      margin-right: 0 !important;
      margin-bottom: 2rem;
    }
    
    .magazine-text p {
      text-indent: 0 !important;
    }
  }

  /* Smooth transitions */
  .group:hover .group-hover\:scale-105 {
    transform: scale(1.05);
  }
  
  .group:hover .group-hover\:text-[#f04e00] {
    color: #f04e00;
  }
  
  .group:hover .group-hover\:gap-3 {
    gap: 0.75rem;
  }

  .group:hover .group-hover\:translate-x-1 {
    transform: translateX(0.25rem);
  }
</style>