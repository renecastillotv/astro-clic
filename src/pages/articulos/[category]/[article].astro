---
import Layout from '../../../layouts/Layout.astro';
import PropertyCarousel from '../../../components/PropertyCarousel.astro';
import RelatedArticles from '../../../components/RelatedArticles.astro';
import AreaAdvisors from '../../../components/AreaAdvisors.astro';

// Mock de datos para el artículo específico
const { category, article } = Astro.params;

// Datos del artículo específico
const articleData = {
  'guia-completa-comprar-villa-punta-cana': {
    title: 'Guía Completa para Comprar una Villa en Punta Cana',
    subtitle: 'Todo lo que necesitas saber para adquirir tu villa soñada en el paraíso caribeño',
    excerpt: 'Descubre paso a paso cómo adquirir tu villa soñada en el paraíso caribeño. Incluye análisis de zonas, precios y documentación necesaria.',
    content: `
<div id="introduccion">
  <h2>Introducción</h2>
  <p>Punta Cana se ha consolidado como uno de los destinos más atractivos para la inversión inmobiliaria en el Caribe. Con sus playas de arena blanca, clima tropical durante todo el año y una infraestructura turística de clase mundial, esta región ofrece oportunidades únicas para quienes buscan adquirir una villa de ensueño.</p>
  
  <p>En esta guía completa, te llevaremos paso a paso por todo el proceso de compra, desde la selección de la zona hasta la firma de la escritura definitiva.</p>
</div>

<div id="por-que-invertir">
  <h2>¿Por qué invertir en una villa en Punta Cana?</h2>
  
  <h3>Ventajas del mercado inmobiliario en Punta Cana:</h3>
  <ul>
    <li><strong>Crecimiento sostenido</strong>: El mercado ha mostrado un crecimiento promedio del 8-12% anual en los últimos 5 años</li>
    <li><strong>Potencial de alquiler</strong>: ROI entre 6-18% anual para propiedades de alquiler vacacional</li>
    <li><strong>Plusvalía garantizada</strong>: Las mejores zonas han incrementado su valor hasta un 40% en los últimos 3 años</li>
    <li><strong>Marco legal favorable</strong>: República Dominicana permite la compra libre de propiedades a extranjeros</li>
  </ul>
</div>

<div id="mejores-zonas">
  <h2>Las mejores zonas para comprar una villa</h2>
  
  <div id="cap-cana">
    <h3>1. Cap Cana</h3>
    <p><strong>Rango de precios</strong>: $800,000 - $5,000,000+</p>
    
    <p>Cap Cana representa el lujo absoluto en Punta Cana. Esta exclusiva zona residencial y turística ofrece:</p>
    <ul>
      <li>Campo de golf diseñado por Jack Nicklaus</li>
      <li>Marina privada de clase mundial</li>
      <li>Playas vírgenes exclusivas para residentes</li>
      <li>Seguridad 24/7 con acceso controlado</li>
      <li>Proximidad al aeropuerto internacional (15 minutos)</li>
    </ul>
    <p><strong>Ideal para</strong>: Compradores de alto poder adquisitivo que buscan exclusividad y prestigio.</p>
  </div>

  <div id="vista-cana">
    <h3>2. Vista Cana</h3>
    <p><strong>Rango de precios</strong>: $450,000 - $1,500,000</p>
    
    <p>Un desarrollo planificado que combina lujo y funcionalidad:</p>
    <ul>
      <li>Diseño arquitectónico contemporáneo</li>
      <li>Amplias zonas verdes y lagos artificiales</li>
      <li>Club de playa privado</li>
      <li>Centro comercial integrado</li>
      <li>Colegios internacionales cercanos</li>
    </ul>
    <p><strong>Ideal para</strong>: Familias que buscan calidad de vida y comodidades modernas.</p>
  </div>

  <div id="bavaro">
    <h3>3. Bávaro</h3>
    <p><strong>Rango de precios</strong>: $200,000 - $800,000</p>
    
    <p>La zona más consolidada y con mayor oferta:</p>
    <ul>
      <li>Excelente conectividad</li>
      <li>Amplia oferta gastronómica y entretenimiento</li>
      <li>Mercado de alquileres muy activo</li>
      <li>Precios más accesibles</li>
      <li>Gran variedad de servicios</li>
    </ul>
    <p><strong>Ideal para</strong>: Inversores y compradores primerizos.</p>
  </div>

  <div id="uvero-alto">
    <h3>4. Uvero Alto</h3>
    <p><strong>Rango de precios</strong>: $300,000 - $1,200,000</p>
    
    <p>Una zona emergente con gran potencial:</p>
    <ul>
      <li>Playas menos concurridas</li>
      <li>Precios competitivos</li>
      <li>Proyectos nuevos de alta calidad</li>
      <li>Crecimiento acelerado del área</li>
    </ul>
    <p><strong>Ideal para</strong>: Inversores que buscan plusvalía a mediano plazo.</p>
  </div>
</div>

<div id="proceso-compra">
  <h2>Proceso de compra paso a paso</h2>
  
  <h3>Paso 1: Definir presupuesto y objetivos</h3>
  <p>Antes de comenzar la búsqueda, es fundamental:</p>
  <ul>
    <li>Establecer un presupuesto realista (incluyendo gastos adicionales del 8-12%)</li>
    <li>Definir si será vivienda principal, segunda residencia o inversión</li>
    <li>Considerar gastos de mantenimiento anuales (2-4% del valor)</li>
  </ul>

  <h3>Paso 2: Selección de zona y propiedad</h3>
  <ul>
    <li>Visitar diferentes zonas y proyectos</li>
    <li>Evaluar amenidades y servicios cercanos</li>
    <li>Revisar documentación legal del proyecto</li>
    <li>Solicitar referencias del desarrollador</li>
  </ul>

  <h3>Paso 3: Due diligence legal</h3>
  <p><strong>Documentos esenciales a verificar:</strong></p>
  <ul>
    <li>Certificado de título (debe estar libre de gravámenes)</li>
    <li>Deslinde catastral actualizado</li>
    <li>Paz y salvo de CAASD y EDEESTE</li>
    <li>Certificación de no adeudo municipal</li>
    <li>Planos aprobados por el MOPC</li>
  </ul>

  <h3>Paso 4: Negociación y oferta</h3>
  <ul>
    <li>Investigar precios comparables en la zona</li>
    <li>Considerar condiciones del mercado actual</li>
    <li>Negociar términos de pago</li>
    <li>Establecer condiciones suspensivas</li>
  </ul>

  <h3>Paso 5: Firma de contrato de compraventa</h3>
  <p><strong>Elementos clave del contrato:</strong></p>
  <ul>
    <li>Precio final y forma de pago</li>
    <li>Fecha de entrega y condiciones</li>
    <li>Especificaciones técnicas detalladas</li>
    <li>Penalizaciones por incumplimiento</li>
    <li>Garantías post-entrega</li>
  </ul>

  <h3>Paso 6: Financiamiento (si aplica)</h3>
  <p><strong>Opciones disponibles:</strong></p>
  <ul>
    <li>Financiamiento directo con el desarrollador (hasta 80%)</li>
    <li>Préstamos bancarios locales (tasa promedio 8-12%)</li>
    <li>Financiamiento internacional</li>
    <li>Sociedades de inversión</li>
  </ul>

  <h3>Paso 7: Cierre y escrituración</h3>
  <ul>
    <li>Revisión final de la propiedad</li>
    <li>Cancelación de saldos pendientes</li>
    <li>Firma ante notario público</li>
    <li>Registro en el Registro de Títulos</li>
  </ul>
</div>

<div id="costos-adicionales">
  <h2>Costos adicionales a considerar</h2>
  
  <h3>Gastos de compra (8-12% del valor):</h3>
  <ul>
    <li>Impuesto de transferencia: 3%</li>
    <li>Honorarios notariales: 1%</li>
    <li>Registro de títulos: 0.5%</li>
    <li>Honorarios legales: 1-2%</li>
    <li>Inspecciones y avalúos: 0.5-1%</li>
  </ul>

  <h3>Gastos anuales de mantenimiento:</h3>
  <ul>
    <li>Seguridad y jardinería: $200-800/mes</li>
    <li>Seguro de propiedad: 0.3-0.5% anual</li>
    <li>Impuesto municipal: 1% anual sobre valor catastral</li>
    <li>Servicios públicos: $150-400/mes</li>
  </ul>
</div>

<div id="documentacion">
  <h2>Documentación necesaria para extranjeros</h2>
  
  <h3>Documentos personales:</h3>
  <ul>
    <li>Pasaporte vigente</li>
    <li>Certificado de ingresos apostillado</li>
    <li>Referencias bancarias internacionales</li>
    <li>Declaración jurada de fondos lícitos</li>
  </ul>

  <h3>Para constitución de sociedad (recomendado):</h3>
  <ul>
    <li>Acta constitutiva</li>
    <li>Registro mercantil</li>
    <li>RNC (Registro Nacional del Contribuyente)</li>
    <li>Designación de representante legal local</li>
  </ul>
</div>

<div id="consejos">
  <h2>Consejos de expertos</h2>
  
  <h3>✅ Recomendaciones clave:</h3>
  <ol>
    <li><strong>Siempre trabajar con profesionales locales</strong>: Abogado especializado en bienes raíces y corredor certificado</li>
    <li><strong>Visitar en diferentes épocas</strong>: Conocer la zona en temporada alta y baja</li>
    <li><strong>Verificar conectividad</strong>: Internet, telecomunicaciones y acceso a servicios médicos</li>
    <li><strong>Evaluar la comunidad</strong>: Conocer el perfil de vecinos y ambiente del proyecto</li>
    <li><strong>Planificar la gestión</strong>: Si será inversión, definir estrategia de alquiler desde el inicio</li>
  </ol>

  <h3>❌ Errores comunes a evitar:</h3>
  <ol>
    <li>No verificar documentación legal completa</li>
    <li>Subestimar costos de mantenimiento</li>
    <li>Comprar sin ver la propiedad personalmente</li>
    <li>No considerar gastos de escrituración</li>
    <li>Firmar contratos sin asesoría legal especializada</li>
  </ol>
</div>

<div id="retorno-inversion">
  <h2>Retorno de inversión y potencial de alquiler</h2>
  
  <h3>Mercado de alquileres vacacionales:</h3>
  
  <h4>Temporada alta (Diciembre - Abril):</h4>
  <ul>
    <li>Villa 3 habitaciones: $300-600/noche</li>
    <li>Villa 4-5 habitaciones: $500-1,200/noche</li>
    <li>Ocupación promedio: 70-85%</li>
  </ul>

  <h4>Temporada media/baja:</h4>
  <ul>
    <li>Descuento promedio: 30-40%</li>
    <li>Ocupación promedio: 40-60%</li>
  </ul>

  <h4>ROI anual estimado:</h4>
  <ul>
    <li>Villas en Cap Cana: 6-10%</li>
    <li>Villas en Vista Cana: 8-12%</li>
    <li>Villas en Bávaro: 10-18%</li>
  </ul>
</div>

<div id="conclusion">
  <h2>Conclusión</h2>
  
  <p>Comprar una villa en Punta Cana representa una excelente oportunidad de inversión, ya sea para uso personal o como generador de ingresos. El mercado inmobiliario dominicano ofrece estabilidad, crecimiento sostenido y un marco legal favorable para extranjeros.</p>
  
  <p>La clave del éxito está en la preparación adecuada, la selección correcta de la zona según sus objetivos, y el acompañamiento de profesionales experimentados durante todo el proceso.</p>
  
  <p>Con esta guía, tienes las herramientas necesarias para tomar decisiones informadas y hacer realidad tu sueño de tener una villa en el paraíso caribeño.</p>
  
  <hr style="margin: 2rem 0; border: 1px solid #e5e7eb;">
  
  <p style="font-style: italic; text-align: center; color: #6b7280;">
    ¿Listo para dar el siguiente paso? Nuestro equipo de especialistas en Punta Cana está disponible para acompañarte en todo el proceso de compra.
  </p>
</div>
    `,
    featuredImage: 'https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?w=1200&h=600&fit=crop',
    author: {
      name: 'María Rodríguez',
      avatar: 'https://i.pravatar.cc/150?img=5',
      title: 'Especialista en Punta Cana',
      bio: 'Experta en bienes raíces de lujo con más de 8 años ayudando a clientes internacionales a encontrar su hogar perfecto en Punta Cana.',
      phone: '+1 809 555 0105',
      whatsapp: '18095550105',
      email: 'maria.rodriguez@clic.com.do'
    },
    publishedAt: '2024-03-20',
    updatedAt: '2024-03-20',
    readTime: 15,
    views: '12,567',
    category: 'Guías de Compra',
    categorySlug: 'guias-de-compra',
    tags: ['Punta Cana', 'Villas', 'Proceso de Compra', 'Inversión', 'Extranjeros'],
    
    // Tabla de contenidos
    tableOfContents: [
      { id: 'introduccion', title: 'Introducción', level: 1 },
      { id: 'por-que-invertir', title: '¿Por qué invertir en una villa en Punta Cana?', level: 1 },
      { id: 'mejores-zonas', title: 'Las mejores zonas para comprar una villa', level: 1 },
      { id: 'cap-cana', title: 'Cap Cana', level: 2 },
      { id: 'vista-cana', title: 'Vista Cana', level: 2 },
      { id: 'bavaro', title: 'Bávaro', level: 2 },
      { id: 'uvero-alto', title: 'Uvero Alto', level: 2 },
      { id: 'proceso-compra', title: 'Proceso de compra paso a paso', level: 1 },
      { id: 'costos-adicionales', title: 'Costos adicionales a considerar', level: 1 },
      { id: 'documentacion', title: 'Documentación necesaria para extranjeros', level: 1 },
      { id: 'consejos', title: 'Consejos de expertos', level: 1 },
      { id: 'retorno-inversion', title: 'Retorno de inversión y potencial de alquiler', level: 1 },
      { id: 'conclusion', title: 'Conclusión', level: 1 }
    ],
    
    // Propiedades relacionadas
    relatedProperties: [
      {
        slug: 'villa-cap-cana-lujo',
        titulo: 'Villa de Lujo en Cap Cana',
        precio: '$1,250,000',
        imagen: 'https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?w=800&h=600&fit=crop',
        sector: 'Cap Cana',
        habitaciones: 4,
        banos: 4,
        metros: 380,
        tipo: 'Villa de Lujo',
        destacado: true,
        descuento: 'Financiamiento disponible'
      },
      {
        slug: 'villa-vista-cana-moderna',
        titulo: 'Villa Moderna en Vista Cana',
        precio: '$675,000',
        imagen: 'https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?w=800&h=600&fit=crop',
        sector: 'Vista Cana',
        habitaciones: 3,
        banos: 3,
        metros: 280,
        tipo: 'Villa',
        nuevo: true
      },
      {
        slug: 'villa-bavaro-inversion',
        titulo: 'Villa para Inversión en Bávaro',
        precio: '$385,000',
        imagen: 'https://images.unsplash.com/photo-1600047509807-ba8f99d2cdde?w=800&h=600&fit=crop',
        sector: 'Bávaro',
        habitaciones: 3,
        banos: 3,
        metros: 220,
        tipo: 'Villa',
        descuento: 'ROI 16%'
      }
    ],
    
    // Artículos relacionados
    relatedArticles: [
      {
        slug: 'documentos-extranjeros-comprar-rd',
        title: 'Documentos Necesarios para Extranjeros que Compran en RD',
        excerpt: 'Lista completa de documentos requeridos para la compra de propiedades.',
        featuredImage: 'https://images.unsplash.com/photo-1554224155-6726b3ff858f?w=400&h=300&fit=crop',
        category: 'Guías de Compra',
        categorySlug: 'guias-de-compra',
        readTime: 10,
        views: '8.3K',
        publishedAt: '2024-03-18',
        author: {
          name: 'Carlos Mejía',
          avatar: 'https://i.pravatar.cc/150?img=8',
          title: 'Asesor Legal'
        }
      },
      {
        slug: 'roi-airbnb-punta-cana-2024',
        title: 'ROI de Airbnb en Punta Cana: Análisis Completo 2024',
        excerpt: 'Análisis detallado de rentabilidad por zonas y tipos de propiedad.',
        featuredImage: 'https://images.unsplash.com/photo-1560518883-ce09059eeffa?w=400&h=300&fit=crop',
        category: 'Inversión Inmobiliaria',
        categorySlug: 'inversion-inmobiliaria',
        readTime: 18,
        views: '45.2K',
        publishedAt: '2024-03-22',
        author: {
          name: 'Pedro Santos',
          avatar: 'https://i.pravatar.cc/150?img=6',
          title: 'Experto en Inversiones'
        }
      },
      {
        slug: 'mejores-zonas-comprar-santo-domingo',
        title: 'Las 10 Mejores Zonas para Comprar en Santo Domingo',
        excerpt: 'Guía completa de las zonas más valoradas en la capital.',
        featuredImage: 'https://images.unsplash.com/photo-1582407947304-fd86f028f716?w=400&h=300&fit=crop',
        category: 'Guías de Compra',
        categorySlug: 'guias-de-compra',
        readTime: 12,
        views: '9.1K',
        publishedAt: '2024-03-12',
        author: {
          name: 'Ana Martínez',
          avatar: 'https://i.pravatar.cc/150?img=7',
          title: 'Analista de Mercado'
        }
      }
    ],
    
    // Asesores especializados
    areaAdvisors: [
      {
        slug: 'maria-rodriguez',
        name: 'María Rodríguez',
        title: 'Especialista en Punta Cana',
        avatar: 'https://i.pravatar.cc/150?img=5',
        specialties: ['Punta Cana', 'Cap Cana', 'Vista Cana'],
        areas: ['Villas de Lujo', 'Inversión Turística'],
        languages: ['Español', 'Inglés', 'Francés'],
        phone: '+1 809 555 0105',
        whatsapp: '18095550105',
        rating: 4.9,
        reviewCount: 127,
        bio: 'Especialista certificada en bienes raíces de lujo en Punta Cana con más de 200 transacciones exitosas.'
      },
      {
        slug: 'carlos-santana',
        name: 'Carlos Santana',
        title: 'Experto en Inversión Turística',
        avatar: 'https://i.pravatar.cc/150?img=8',
        specialties: ['Inversión Turística', 'Alquiler Vacacional'],
        areas: ['Punta Cana', 'La Romana', 'Samaná'],
        languages: ['Español', 'Inglés'],
        phone: '+1 809 555 0108',
        whatsapp: '18095550108',
        rating: 4.8,
        reviewCount: 98,
        bio: 'Consultor especializado en inversiones turísticas con 15 años de experiencia en el mercado caribeño.'
      }
    ],
    
    // Schema.org structured data
    schema: {
      '@context': 'https://schema.org',
      '@type': 'Article',
      'headline': 'Guía Completa para Comprar una Villa en Punta Cana',
      'description': 'Descubre paso a paso cómo adquirir tu villa soñada en el paraíso caribeño. Incluye análisis de zonas, precios y documentación necesaria.',
      'image': 'https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?w=1200&h=600&fit=crop',
      'author': {
        '@type': 'Person',
        'name': 'María Rodríguez',
        'jobTitle': 'Especialista en Punta Cana'
      },
      'publisher': {
        '@type': 'Organization',
        'name': 'CLIC Inmobiliaria',
        'logo': {
          '@type': 'ImageObject',
          'url': 'https://clic.com.do/logo.png'
        }
      },
      'datePublished': '2024-03-20',
      'dateModified': '2024-03-20'
    }
  }
};

const currentArticle = articleData[article] || articleData['guia-completa-comprar-villa-punta-cana'];

// Función para formatear fecha
function formatDate(dateString) {
  const date = new Date(dateString);
  const months = ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 
                  'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'];
  return `${date.getDate()} de ${months[date.getMonth()]} ${date.getFullYear()}`;
}

// Función para estimar tiempo de lectura
function getReadingTime(content) {
  const wordsPerMinute = 200;
  const wordCount = content.split(' ').length;
  return Math.ceil(wordCount / wordsPerMinute);
}
---

<Layout 
  title={`${currentArticle.title} - Blog CLIC`} 
  description={currentArticle.excerpt}
>
  <!-- Structured Data -->
  <script type="application/ld+json" set:html={JSON.stringify(currentArticle.schema)}></script>

  <!-- Breadcrumbs -->
  <section class="bg-gray-50 py-4">
    <div class="container mx-auto px-4">
      <nav class="text-sm text-gray-600">
        <a href="/articulos" class="hover:text-[#f04e00]">Artículos</a>
        <span class="mx-2">/</span>
        <a href={`/articulos/${currentArticle.categorySlug}`} class="hover:text-[#f04e00]">
          {currentArticle.category}
        </a>
        <span class="mx-2">/</span>
        <span class="text-gray-900">{currentArticle.title}</span>
      </nav>
    </div>
  </section>

  <!-- Article Header -->
  <section class="py-8">
    <div class="container mx-auto px-4">
      <div class="max-w-4xl mx-auto">
        <!-- Category and tags -->
        <div class="flex flex-wrap items-center gap-3 mb-6">
          <span class="bg-[#f04e00] text-white px-3 py-1 rounded-full text-sm font-medium">
            {currentArticle.category}
          </span>
          {currentArticle.tags.map(tag => (
            <span class="bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-sm">
              {tag}
            </span>
          ))}
        </div>

        <!-- Title and subtitle -->
        <h1 class="text-3xl md:text-4xl lg:text-5xl font-bold text-gray-900 mb-4">
          {currentArticle.title}
        </h1>
        
        {currentArticle.subtitle && (
          <p class="text-xl text-gray-600 mb-8">
            {currentArticle.subtitle}
          </p>
        )}

        <!-- Article meta -->
        <div class="flex flex-wrap items-center gap-6 text-sm text-gray-600 mb-8 pb-8 border-b">
          <div class="flex items-center gap-3">
            <img 
              src={currentArticle.author.avatar} 
              alt={currentArticle.author.name}
              class="w-12 h-12 rounded-full"
            />
            <div>
              <p class="font-medium text-gray-900">{currentArticle.author.name}</p>
              <p class="text-gray-500">{currentArticle.author.title}</p>
            </div>
          </div>
          
          <div class="flex items-center gap-6">
            <span class="flex items-center gap-2">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
              </svg>
              {formatDate(currentArticle.publishedAt)}
            </span>
            
            <span class="flex items-center gap-2">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
              </svg>
              {currentArticle.readTime} min de lectura
            </span>
            
            <span class="flex items-center gap-2">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
              </svg>
              {currentArticle.views} vistas
            </span>
          </div>
        </div>

        <!-- Featured Image -->
        <div class="aspect-[16/9] overflow-hidden rounded-xl shadow-lg mb-8">
          <img 
            src={currentArticle.featuredImage} 
            alt={currentArticle.title}
            class="w-full h-full object-cover"
          />
        </div>
      </div>
    </div>
  </section>

  <!-- Article Content -->
  <section class="py-8">
    <div class="container mx-auto px-4">
      <div class="max-w-7xl mx-auto">
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
          
          <!-- Main Content -->
          <div class="lg:col-span-2 order-2 lg:order-1">
            <article class="prose prose-lg max-w-none">
              <div set:html={currentArticle.content}></div>
            </article>

            <!-- Share buttons -->
            <div class="mt-12 pt-8 border-t border-gray-200">
              <h3 class="text-lg font-semibold text-gray-900 mb-4">Compartir este artículo</h3>
              <div class="flex flex-wrap gap-3">
                <a 
                  href={`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(`https://clic.com.do/articulos/${currentArticle.categorySlug}/${article}`)}`}
                  target="_blank"
                  class="inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm"
                >
                  <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
                  </svg>
                  Facebook
                </a>
                
                <a 
                  href={`https://twitter.com/intent/tweet?url=${encodeURIComponent(`https://clic.com.do/articulos/${currentArticle.categorySlug}/${article}`)}&text=${encodeURIComponent(currentArticle.title)}`}
                  target="_blank"
                  class="inline-flex items-center gap-2 px-4 py-2 bg-blue-400 text-white rounded-lg hover:bg-blue-500 transition-colors text-sm"
                >
                  <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/>
                  </svg>
                  Twitter
                </a>
                
                <a 
                  href={`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(`https://clic.com.do/articulos/${currentArticle.categorySlug}/${article}`)}`}
                  target="_blank"
                  class="inline-flex items-center gap-2 px-4 py-2 bg-blue-700 text-white rounded-lg hover:bg-blue-800 transition-colors text-sm"
                >
                  <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
                  </svg>
                  LinkedIn
                </a>
                
                <button 
                  onclick="navigator.share({title: '{currentArticle.title}', url: window.location.href})"
                  class="inline-flex items-center gap-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors text-sm"
                >
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"></path>
                  </svg>
                  Compartir
                </button>
              </div>
            </div>

            <!-- Author Bio -->
            <div class="mt-12 p-6 bg-gray-50 rounded-xl">
              <h3 class="text-lg font-semibold text-gray-900 mb-4">Sobre el autor</h3>
              <div class="flex items-start gap-4">
                <img 
                  src={currentArticle.author.avatar} 
                  alt={currentArticle.author.name}
                  class="w-16 h-16 rounded-full"
                />
                <div class="flex-1">
                  <h4 class="text-lg font-semibold text-gray-900">{currentArticle.author.name}</h4>
                  <p class="text-[#f04e00] font-medium">{currentArticle.author.title}</p>
                  {currentArticle.author.bio && (
                    <p class="text-gray-600 mt-2">{currentArticle.author.bio}</p>
                  )}
                  <div class="flex flex-wrap gap-4 mt-4">
                    <a 
                      href={`mailto:${currentArticle.author.email}`}
                      class="text-sm text-gray-600 hover:text-[#f04e00] flex items-center gap-2"
                    >
                      <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                      </svg>
                      Enviar email
                    </a>
                    <span class="text-sm text-gray-500">
                      📞 {currentArticle.author.phone}
                    </span>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Sidebar -->
          <aside class="lg:col-span-1 order-1 lg:order-2">
            
            <!-- Sticky Container -->
            <div class="sticky top-24 z-10">
              
              <!-- Quick Contact - Compacto -->
              <div class="bg-white rounded-lg shadow-md p-3 mb-3 border-l-4 border-[#f04e00]">
                <div class="flex items-center justify-between">
                  <div class="flex items-center gap-3">
                    <img 
                      src={currentArticle.author.avatar} 
                      alt={currentArticle.author.name}
                      class="w-10 h-10 rounded-full"
                    />
                    <div>
                      <h4 class="font-semibold text-gray-900 text-sm">{currentArticle.author.name}</h4>
                      <p class="text-sm text-gray-600">{currentArticle.author.title}</p>
                    </div>
                  </div>
                  <div class="flex items-center gap-2">
                    <a 
                      href={`https://wa.me/${currentArticle.author.whatsapp}?text=Hola, leí tu artículo sobre "${currentArticle.title}" y me gustaría más información`}
                      target="_blank"
                      class="p-2 bg-green-600 text-white rounded-full hover:bg-green-700 transition-colors"
                      title="Contactar por WhatsApp"
                    >
                      <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.108"/>
                      </svg>
                    </a>
                    <a 
                      href={`tel:${currentArticle.author.phone}`}
                      class="p-2 bg-[#f04e00] text-white rounded-full hover:bg-[#d94400] transition-colors"
                      title="Llamar ahora"
                    >
                      <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
                      </svg>
                    </a>
                  </div>
                </div>
              </div>

              <!-- Table of Contents - También sticky dentro del container -->
              {currentArticle.tableOfContents && (
                <div class="bg-white rounded-lg shadow-md p-4">
                  <h3 class="text-base font-bold text-gray-900 mb-3">
                    📋 Contenido del artículo
                  </h3>
                  <nav class="space-y-1 max-h-64 overflow-y-auto">
                    {currentArticle.tableOfContents.map(item => (
                      <a 
                        href={`#${item.id}`}
                        class={`block text-sm hover:text-[#f04e00] hover:bg-gray-50 transition-colors py-1.5 px-2 rounded ${
                          item.level === 1 ? 'font-medium text-gray-900' : 'text-gray-600 ml-3'
                        }`}
                      >
                        {item.title}
                      </a>
                    ))}
                  </nav>
                </div>
              )}

            </div>

            <!-- Newsletter CTA - No sticky, al final -->
            <div class="bg-gradient-to-br from-[#f04e00] to-[#ff7a3d] rounded-lg p-6 text-white mt-6">
              <h3 class="font-bold text-lg mb-3">
                📧 ¿Te gustó este artículo?
              </h3>
              <p class="text-sm mb-4 text-white/90">
                Recibe más contenido como este en tu correo
              </p>
              <form class="space-y-3">
                <input 
                  type="email" 
                  placeholder="tu@email.com"
                  class="w-full px-3 py-2 rounded-md text-gray-900 text-sm focus:outline-none focus:ring-2 focus:ring-white/50"
                />
                <button 
                  type="submit"
                  class="w-full bg-white text-[#f04e00] py-2 rounded-md hover:bg-gray-100 transition-colors text-sm font-medium"
                >
                  Suscribirse gratis
                </button>
              </form>
            </div>

          </aside>
        </div>
      </div>
    </div>
  </section>

  <!-- Related Properties -->
  {currentArticle.relatedProperties && (
    <PropertyCarousel 
      title="Propiedades relacionadas con este artículo"
      subtitle="Villas disponibles en las zonas mencionadas en la guía"
      properties={currentArticle.relatedProperties}
      viewAllLink="/comprar/villa/punta-cana"
    />
  )}

  <!-- Related Articles -->
  {currentArticle.relatedArticles && (
    <RelatedArticles 
      articles={currentArticle.relatedArticles}
      title="Artículos relacionados"
      subtitle="Continúa leyendo sobre temas similares"
    />
  )}

  <!-- Area Advisors -->
  {currentArticle.areaAdvisors && (
    <AreaAdvisors 
      advisors={currentArticle.areaAdvisors}
      title="Especialistas en las zonas mencionadas"
      location="Punta Cana"
    />
  )}

  <!-- CTA Section -->
  <section class="py-16 bg-gradient-to-r from-[#f04e00] to-[#ff7a3d]">
    <div class="container mx-auto px-4 text-center">
      <h2 class="text-3xl md:text-4xl font-bold text-white mb-4">
        ¿Listo para encontrar tu villa en Punta Cana?
      </h2>
      <p class="text-xl text-white/90 mb-8 max-w-2xl mx-auto">
        Nuestros especialistas te acompañarán en todo el proceso
      </p>
      <div class="flex flex-col sm:flex-row gap-4 justify-center">
        <a 
          href="/contacto" 
          class="inline-block px-8 py-3 bg-white text-[#f04e00] rounded-lg hover:bg-gray-100 transition-colors font-medium"
        >
          Agenda una consulta gratuita
        </a>
        <a 
          href="/comprar/villa/punta-cana"
          class="inline-block px-8 py-3 bg-white/20 text-white border border-white rounded-lg hover:bg-white/30 transition-colors font-medium"
        >
          Ver villas disponibles
        </a>
      </div>
    </div>
  </section>
</Layout>

<style>
  /* Reset y base styles */
  .prose {
    max-width: none;
    color: #374151;
    line-height: 1.7;
  }

  /* Títulos principales */
  .prose h2 {
    font-size: 1.875rem;
    font-weight: 700;
    color: #1f2937;
    margin-top: 2.5rem;
    margin-bottom: 1rem;
    padding-bottom: 0.5rem;
    border-bottom: 2px solid #e5e7eb;
  }

  .prose h2:first-child {
    margin-top: 0;
  }

  /* Subtítulos */
  .prose h3 {
    font-size: 1.5rem;
    font-weight: 600;
    color: #f04e00;
    margin-top: 2rem;
    margin-bottom: 0.75rem;
  }

  /* Títulos de sección */
  .prose h4 {
    font-size: 1.25rem;
    font-weight: 600;
    color: #374151;
    margin-top: 1.5rem;
    margin-bottom: 0.5rem;
    background: #f9fafb;
    padding: 0.75rem;
    border-left: 4px solid #f04e00;
    border-radius: 0 0.375rem 0.375rem 0;
  }

  /* Párrafos */
  .prose p {
    margin-bottom: 1.25rem;
    font-size: 1.125rem;
    line-height: 1.7;
  }

  /* Listas */
  .prose ul,
  .prose ol {
    margin: 1.25rem 0;
    padding-left: 1.5rem;
  }

  .prose li {
    margin-bottom: 0.5rem;
    line-height: 1.6;
  }

  /* Elementos destacados */
  .prose strong {
    font-weight: 600;
    color: #1f2937;
  }

  /* Citas */
  .prose blockquote {
    margin: 1.5rem 0;
    padding: 1rem 1.5rem;
    background: #f9fafb;
    border-left: 4px solid #f04e00;
    border-radius: 0 0.375rem 0.375rem 0;
    font-style: italic;
    color: #6b7280;
  }

  /* Separadores */
  .prose hr {
    margin: 2rem 0;
    border: none;
    height: 1px;
    background: linear-gradient(to right, #f04e00, #e5e7eb, transparent);
  }

  /* Tabla de contenidos sticky */
  .sticky {
    position: sticky;
    top: 6rem;
  }

  /* Smooth scrolling */
  html {
    scroll-behavior: smooth;
  }

  /* Offset para anchors */
  .prose h2[id],
  .prose h3[id],
  .prose h4[id] {
    scroll-margin-top: 8rem;
  }

  /* Responsive */
  @media (max-width: 1023px) {
    .prose h2 {
      font-size: 1.75rem;
    }
    
    .prose h3 {
      font-size: 1.375rem;
    }
    
    .prose p {
      font-size: 1rem;
    }

    .sticky {
      position: static;
    }
  }

  /* Order en mobile para que sidebar aparezca primero */
  @media (max-width: 1023px) {
    .order-1 {
      order: -1;
    }
    .order-2 {
      order: 1;
    }
  }
</style>