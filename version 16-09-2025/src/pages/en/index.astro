---
import Layout from '../../layouts/Layout.astro';
import SearchComponent from '../../components/SearchComponent.astro';
import PropertyCarousel from '../../components/PropertyCarousel.astro';
import VideoGallery from '../../components/VideoGallery.astro';
import RelatedArticles from '../../components/RelatedArticles.astro';
import Testimonials from '../../components/Testimonials.astro';

// =====================================================
// üöÄ GET REAL DATA FROM EDGE FUNCTION - ENGLISH
// =====================================================

let featuredProperties = [];
let featuredVideos = [];
let featuredArticles = [];
let testimonials = [];
let popularLocations = [];
let dataSource = 'fallback';

try {
  console.log('üîç Getting homepage data from edge function (EN)...');
  
  // Call edge function with English locale
  const response = await fetch(`${Astro.url.origin}/api/homepage-data?locale=en`, {
    method: 'GET',
    headers: {
      'Content-Type': 'application/json',
    },
  });

  if (response.ok) {
    const result = await response.json();
    
    if (result.success && result.data) {
      featuredProperties = result.data.featuredProperties || [];
      featuredVideos = result.data.featuredVideos || [];
      featuredArticles = result.data.featuredArticles || [];
      testimonials = result.data.featuredTestimonials || [];
      popularLocations = result.data.popularLocations || [];
      dataSource = 'real_data';
      
      console.log('‚úÖ Real data obtained successfully (EN):', {
        properties: featuredProperties.length,
        videos: featuredVideos.length,
        articles: featuredArticles.length,
        testimonials: testimonials.length,
        locations: popularLocations.length
      });
    } else {
      console.warn('‚ö†Ô∏è Successful response but incomplete data:', result);
      throw new Error('Incomplete data in response');
    }
  } else {
    console.warn('‚ö†Ô∏è Error in edge function response:', response.status, response.statusText);
    throw new Error(`HTTP ${response.status}: ${response.statusText}`);
  }
} catch (error) {
  console.error('‚ùå Error getting real data, using fallback (EN):', error.message);
  dataSource = 'fallback';
  
  // =====================================================
  // üìÑ FALLBACK DATA - Development/emergency only
  // =====================================================
  
  featuredProperties = [
    {
      slug: 'punta-cana-golf-villa',
      titulo: 'Villa in Punta Cana with Golf View',
      precio: '$650,000',
      imagen: 'https://images.unsplash.com/photo-1613490493576-7fde63acd811?w=800&h=600&fit=crop',
      sector: 'Punta Cana',
      habitaciones: 4,
      banos: 4,
      metros: 400,
      tipo: 'Luxury Villa',
      destacado: true,
      descuento: 'Financing available'
    },
    {
      slug: 'modern-apartment-bella-vista',
      titulo: 'Modern Apartment in Bella Vista',
      precio: '$285,000',
      imagen: 'https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=800&h=600&fit=crop',
      sector: 'Bella Vista, D.N.',
      habitaciones: 3,
      banos: 2,
      metros: 165,
      tipo: 'Apartment',
      nuevo: true
    },
    {
      slug: 'exclusive-penthouse-anacaona',
      titulo: 'Exclusive Penthouse in Anacaona',
      precio: '$550,000',
      imagen: 'https://images.unsplash.com/photo-1567684014761-b65e2e59b9eb?w=800&h=600&fit=crop',
      sector: 'Bella Vista, D.N.',
      habitaciones: 4,
      banos: 3,
      metros: 300,
      tipo: 'Penthouse',
      descuento: 'Panoramic view'
    },
    {
      slug: 'exclusive-casa-de-campo-villa',
      titulo: 'Exclusive Villa in Casa de Campo',
      precio: '$1,250,000',
      imagen: 'https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?w=800&h=600&fit=crop',
      sector: 'Casa de Campo, La Romana',
      habitaciones: 5,
      banos: 5,
      metros: 480,
      tipo: 'Luxury Villa',
      destacado: true
    }
  ];

  featuredVideos = [
    {
      id: '1',
      title: 'Luz Garc√≠a\'s House in Cacicazgos - Exclusive Tour',
      description: 'We visit the spectacular villa of the renowned Dominican TV host',
      thumbnail: 'https://images.unsplash.com/photo-1613977257363-707ba9348227?w=800&h=450&fit=crop',
      duration: '18:45',
      views: '342K',
      category: 'celebrity-homes',
      videoId: 'dQw4w9WgXcQ',
      videoSlug: 'luz-garcia-house-tour',
      featured: true
    },
    {
      id: '2', 
      title: 'How to Invest in Punta Cana - 2024 Guide',
      description: 'Ren√© Castillo explains the best investment opportunities',
      thumbnail: 'https://images.unsplash.com/photo-1560518883-ce09059eeffa?w=800&h=450&fit=crop',
      duration: '15:30',
      views: '89K',
      category: 'tips',
      videoId: 'dQw4w9WgXcQ2',
      videoSlug: 'invest-punta-cana-2024'
    },
    {
      id: '3',
      title: 'Romeo Santos\' Penthouse - How the King Lives',
      description: 'Tour of the impressive property of the most famous bachata singer',
      thumbnail: 'https://images.unsplash.com/photo-1600607687644-aac4c3eac7f4?w=800&h=450&fit=crop',
      duration: '22:15',
      views: '567K',
      category: 'celebrity-homes',
      videoId: 'dQw4w9WgXcQ3',
      videoSlug: 'romeo-santos-penthouse'
    }
  ];

  featuredArticles = [
    {
      slug: 'real-estate-market-trends-dr-2025',
      title: 'Real Estate Market Trends in DR 2025',
      excerpt: 'Ren√© Castillo analyzes the most important projections and opportunities for this year.',
      featuredImage: 'https://images.unsplash.com/photo-1560520653-9e0e4c89eb11?w=800&h=450&fit=crop',
      author: { name: 'Ren√© Castillo', avatar: 'https://i.pravatar.cc/150?img=1' },
      publishedAt: '2024-03-20',
      readTime: '12',
      category: 'Market Analysis',
      views: '8.5K'
    },
    {
      slug: 'foreigners-buying-guide-dr',
      title: 'Guide for Foreigners Buying in Dominican Republic',
      excerpt: 'Everything you need to know about documentation, processes and best practices.',
      featuredImage: 'https://images.unsplash.com/photo-1554224155-6726b3ff858f?w=800&h=450&fit=crop',
      author: { name: 'CLIC Team', avatar: 'https://i.pravatar.cc/150?img=2' },
      publishedAt: '2024-03-18',
      readTime: '15',
      category: 'Buying Guides',
      views: '12.3K'
    },
    {
      slug: 'airbnb-roi-punta-cana-2024',
      title: 'Airbnb ROI in Punta Cana: Complete Analysis',
      excerpt: 'Detailed profitability analysis by zones and property types for investors.',
      featuredImage: 'https://images.unsplash.com/photo-1590283603385-17ffb3a7f29f?w=800&h=450&fit=crop',
      author: { name: 'Mar√≠a Rodr√≠guez', avatar: 'https://i.pravatar.cc/150?img=5' },
      publishedAt: '2024-03-22',
      readTime: '18',
      category: 'Investment',
      views: '45.2K'
    }
  ];

  testimonials = [
    {
      id: '1',
      slug: 'carlos-mendoza-villa-cap-cana',
      category: 'buyers',
      author: {
        name: 'Carlos Mendoza',
        avatar: 'https://i.pravatar.cc/150?img=10',
        location: 'Santo Domingo',
        verified: true
      },
      rating: 5,
      text: 'Ren√© and his team helped me find the perfect villa in Cap Cana. His TV experience shows in the attention to detail and professionalism.',
      excerpt: 'Ren√© and his team helped me find the perfect villa in Cap Cana. His TV experience shows in the attention to detail and professionalism.',
      propertyType: 'Villa',
      location: 'Cap Cana',
      date: '2024-03-15'
    },
    {
      id: '2',
      slug: 'ana-martinez-apartment-piantini',
      category: 'investors',
      author: {
        name: 'Ana Mart√≠nez',
        avatar: 'https://i.pravatar.cc/150?img=6',
        location: 'Miami, FL',
        verified: true
      },
      rating: 5,
      text: 'As a foreigner, I needed a lot of guidance. CLIC guided me through the entire process and now I have an apartment that generates excellent ROI.',
      excerpt: 'As a foreigner, I needed a lot of guidance. CLIC guided me through the entire process and now I have an apartment that generates excellent ROI.',
      propertyType: 'Apartment',
      location: 'Piantini',
      date: '2024-02-28'
    },
    {
      id: '3',
      slug: 'roberto-silva-house-arroyo-hondo',
      category: 'buyers',
      author: {
        name: 'Roberto Silva',
        avatar: 'https://i.pravatar.cc/150?img=8',
        location: 'Santiago',
        verified: true
      },
      rating: 5,
      text: 'Watching Ren√© on TV for years gave me the confidence to contact him. His team is exceptional and we found our dream home.',
      excerpt: 'Watching Ren√© on TV for years gave me the confidence to contact him. His team is exceptional and we found our dream home.',
      propertyType: 'House',
      location: 'Arroyo Hondo',
      date: '2024-03-10'
    }
  ];

  popularLocations = [
    { 
      name: 'Punta Cana', 
      slug: 'punta-cana', 
      count: 89, 
      averagePrice: '$450K',
      image: 'https://images.unsplash.com/photo-1589923188651-268a9765e432?w=400&h=300&fit=crop',
      description: 'Tourism and profitability'
    },
    { 
      name: 'Santo Domingo', 
      slug: 'santo-domingo', 
      count: 156, 
      averagePrice: '$320K',
      image: 'https://images.unsplash.com/photo-1568515045052-f9a854d70bfd?w=400&h=300&fit=crop',
      description: 'Capital and growth'
    },
    { 
      name: 'Casa de Campo', 
      slug: 'casa-de-campo', 
      count: 34, 
      averagePrice: '$980K',
      image: 'https://images.unsplash.com/photo-1582268611958-ebfd161ef9cf?w=400&h=300&fit=crop',
      description: 'Luxury and exclusivity'
    },
    { 
      name: 'Cap Cana', 
      slug: 'cap-cana', 
      count: 23, 
      averagePrice: '$1.2M',
      image: 'https://images.unsplash.com/photo-1600607687920-4e2a09cf159d?w=400&h=300&fit=crop',
      description: 'Maximum Caribbean luxury'
    }
  ];
}

// Debug logging for development
if (import.meta.env.DEV) {
  console.log('üè† HOMEPAGE DATA STATUS (EN):', {
    dataSource,
    counts: {
      properties: featuredProperties.length,
      videos: featuredVideos.length,
      articles: featuredArticles.length,
      testimonials: testimonials.length,
      locations: popularLocations.length
    }
  });
}
---

<Layout 
  title="Ren√© Castillo & CLIC Real Estate - The Content Real Estate Company in DR" 
  description="Ren√© Castillo, renowned TV presenter with 18 years of experience, leads CLIC Real Estate. Discover exclusive properties in Punta Cana, Santo Domingo and more. The #1 real estate channel in Dominican Republic."
>
  <!-- Data Source Debug (Only visible in DEV) -->
  {import.meta.env.DEV && (
    <div class="fixed top-4 right-4 z-50 bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-3 rounded shadow-lg text-sm max-w-xs">
      <div class="flex items-center">
        <div class="py-1">
          <p class="font-medium">Homepage Data:</p>
          <p class="text-xs">
            Source: <span class="font-mono">{dataSource}</span><br/>
            Props: {featuredProperties.length} | Videos: {featuredVideos.length}<br/>
            Arts: {featuredArticles.length} | Locs: {popularLocations.length}
          </p>
        </div>
      </div>
    </div>
  )}

  <!-- Hero Section - Clean & Professional -->
  <section class="relative min-h-screen flex items-center justify-center overflow-hidden">
    <!-- Background Video/Image -->
    <div class="absolute inset-0 z-0">
      <div class="absolute inset-0 bg-gradient-to-r from-black/70 via-black/50 to-black/70 z-10"></div>
      <img 
        src="https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?w=1920&h=1080&fit=crop" 
        alt="Luxury properties in Dominican Republic"
        class="w-full h-full object-cover"
      />
    </div>
    
    <!-- SEO INVISIBLE - Only for Google -->
    <div class="sr-only">
      <h1>Ren√© Castillo CLIC Real Estate - The Content Real Estate Company in Dominican Republic</h1>
      <p>Ren√© Castillo, renowned Dominican television presenter with 18 years of experience, founded CLIC Real Estate, the leading real estate company in Santo Domingo, Punta Cana and Casa de Campo. Specialists in luxury properties, real estate investment and educational content.</p>
      <address>
        <span>Ren√© Castillo, Founder and TV Presenter</span>
        <span>CLIC Real Estate</span>
        <span>C. Erik Leonard Ekman 34, Santo Domingo, Dominican Republic</span>
        <span>Phone: +1-829-514-8080</span>
        <span>Email: contacto@clic.do</span>
      </address>
    </div>
    
    <!-- VISUAL Content - For users -->
    <div class="relative z-20 container mx-auto px-4">
      <div class="max-w-6xl mx-auto">
        
        <!-- Language Selector -->
        <div class="absolute top-8 right-8 flex gap-2 z-30">
          <a href="/" class="px-4 py-2 text-white/70 hover:text-white hover:bg-white/10 rounded-lg transition-all">ES</a>
          <a href="/en" class="px-4 py-2 bg-white text-gray-900 rounded-lg font-medium shadow-lg">EN</a>
          <a href="/fr" class="px-4 py-2 text-white/70 hover:text-white hover:bg-white/10 rounded-lg transition-all">FR</a>
        </div>
        
        <!-- Top Section: Clean Brand -->
        <div class="text-center mb-16">
          
          <!-- Subtle Credibility (Ren√© Badge) -->
          <div class="inline-flex items-center gap-3 bg-white/10 backdrop-blur-sm rounded-xl px-6 py-3 border border-white/20 mb-8">
            <svg class="w-5 h-5 text-green-400" fill="currentColor" viewBox="0 0 24 24">
              <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>
            <span class="text-white/90 text-sm">
              <strong>Founded by Ren√© Castillo</strong> ‚Ä¢ TV Host 18 years
            </span>
          </div>
          
          <h2 class="text-5xl md:text-6xl lg:text-7xl font-bold mb-6 text-white leading-tight">
            CLIC Real Estate
          </h2>
          <h3 class="text-3xl md:text-4xl lg:text-5xl font-bold mb-8 text-[#f04e00] leading-tight">
            The Content Real Estate Company
          </h3>
          
          <p class="text-xl md:text-2xl mb-12 text-white/90 leading-relaxed max-w-4xl mx-auto">
            <strong>Specialized team in Dominican Republic real estate</strong><br>
            Leaders in Santo Domingo, Punta Cana and premium areas with proven professionalism and experience
          </p>
        </div>

        <!-- CENTERED SEARCH BAR - ABSOLUTE PROTAGONIST -->
        <div class="mb-16">
          <SearchComponent showTitle={false} />
        </div>

        <!-- Elegant Value Propositions -->
        <div class="text-center">
          <div class="flex flex-wrap items-center justify-center gap-8 text-sm text-white/70">
            <span class="flex items-center gap-2">
              <svg class="w-4 h-4 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
              </svg>
              <span class="font-medium">Personalized consulting</span>
            </span>
            <span class="flex items-center gap-2">
              <svg class="w-4 h-4 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
              </svg>
              <span class="font-medium">Financing available</span>
            </span>
            <span class="flex items-center gap-2">
              <svg class="w-4 h-4 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
              </svg>
              <span class="font-medium">Transparent process</span>
            </span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ‚úÖ REAL DATA: Featured Properties -->
  {featuredProperties && featuredProperties.length > 0 && (
    <PropertyCarousel 
      title="Exclusive Properties in Santo Domingo and Punta Cana"
      subtitle={dataSource === 'real_data' 
        ? "Featured properties updated in real time" 
        : "Personally selected by Ren√© Castillo and his team of specialists"
      }
      properties={featuredProperties}
      viewAllLink="/en/buy"
      theme="luxury"
    />
  )}

  <!-- ‚úÖ REAL DATA: Video Gallery -->
  {featuredVideos && featuredVideos.length > 0 && (
    <VideoGallery 
      videos={featuredVideos}
      title="üé¨ The #1 Real Estate Channel in DR"
      subtitle={dataSource === 'real_data' 
        ? "Fresh content from CLIC Real Estate channel" 
        : "From celebrity homes to investment tips - 200K+ subscribers support us"
      }
      layout="featured"
    />
  )}

  <!-- ‚úÖ REAL DATA: Popular Locations -->
  {popularLocations && popularLocations.length > 0 && (
    <section class="py-16 bg-gray-50">
      <div class="container mx-auto px-4">
        <div class="text-center mb-12">
          <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-4">
            {dataSource === 'real_data' 
              ? "Highest Demand Locations" 
              : "Locations Where Ren√© and His Team Are Experts"
            }
          </h2>
          <p class="text-lg text-gray-600 max-w-3xl mx-auto">
            {dataSource === 'real_data'
              ? "Based on our current inventory and search activity"
              : "With 6 years of experience, we know every area and where the best opportunities are"
            }
          </p>
          
          <!-- Real data badge -->
          {dataSource === 'real_data' && (
            <div class="inline-flex items-center gap-2 mt-4 px-4 py-2 bg-green-100 text-green-800 rounded-full text-sm">
              <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
              </svg>
              Real-time updated data
            </div>
          )}
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
          {popularLocations.map((location) => (
            <a href={`/en/buy/${location.slug}`} class="group relative overflow-hidden rounded-xl shadow-lg hover:shadow-2xl transition-all duration-300">
              <div class="aspect-[4/3] relative">
                <img 
                  src={location.image} 
                  alt={`Properties in ${location.name}`}
                  class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"
                />
                <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"></div>
                <div class="absolute bottom-0 left-0 right-0 p-6 text-white">
                  <h3 class="text-2xl font-bold mb-2">{location.name}</h3>
                  <p class="text-sm opacity-90 mb-3">{location.description}</p>
                  <div class="flex justify-between items-center">
                    <div>
                      <span class="text-lg font-semibold">{location.count} properties</span>
                      <div class="text-sm opacity-75">From {location.averagePrice}</div>
                    </div>
                    <svg class="w-6 h-6 group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                    </svg>
                  </div>
                </div>
              </div>
            </a>
          ))}
        </div>
      </div>
    </section>
  )}

  <!-- Why Choose CLIC - Ren√©'s Story -->
  <section class="py-16 bg-white">
    <div class="container mx-auto px-4">
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
        <div>
          <span class="text-[#f04e00] font-semibold text-sm uppercase tracking-wider">The CLIC Story</span>
          <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-6 mt-2">
            From Television to Real Estate
          </h2>
          <div class="space-y-4 text-lg text-gray-600">
            <p>
              <strong class="text-gray-900">CLIC Real Estate was born from a vision</strong>: combine the transparency 
              and professionalism of television with real estate expertise.
            </p>
            <p>
              Founded by <strong class="text-gray-900">Ren√© Castillo, a presenter with 18 years of TV experience</strong>, 
              our company is based on clear communication, trust and exceptional service.
            </p>
            <p>
              As <strong class="text-gray-900">the only real estate company in DR with a focus on educational content</strong>, 
              we don't just sell properties - we educate, inform and accompany our clients 
              at every step of the process.
            </p>
            <p>
              Today we are <strong class="text-gray-900">"The Content Real Estate Company"</strong> with a specialized 
              team that shares our vision of transparency and excellence.
            </p>
          </div>
          
          <!-- Key Differentiators -->
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-8">
            <div class="flex items-start gap-3">
              <div class="w-12 h-12 bg-[#f04e00]/10 rounded-lg flex items-center justify-center flex-shrink-0">
                <svg class="w-6 h-6 text-[#f04e00]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                </svg>
              </div>
              <div>
                <h4 class="font-semibold text-gray-900">Exclusive Content</h4>
                <p class="text-sm text-gray-600">YouTube channel with celebrity homes and investment tips</p>
              </div>
            </div>
            
            <div class="flex items-start gap-3">
              <div class="w-12 h-12 bg-[#f04e00]/10 rounded-lg flex items-center justify-center flex-shrink-0">
                <svg class="w-6 h-6 text-[#f04e00]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path>
                </svg>
              </div>
              <div>
                <h4 class="font-semibold text-gray-900">Specialized Team</h4>
                <p class="text-sm text-gray-600">Experts in different areas and property types</p>
              </div>
            </div>
            
            <div class="flex items-start gap-3">
              <div class="w-12 h-12 bg-[#f04e00]/10 rounded-lg flex items-center justify-center flex-shrink-0">
                <svg class="w-6 h-6 text-[#f04e00]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path>
                </svg>
              </div>
              <div>
                <h4 class="font-semibold text-gray-900">Total Transparency</h4>
                <p class="text-sm text-gray-600">The same honesty from TV applied to real estate</p>
              </div>
            </div>
            
            <div class="flex items-start gap-3">
              <div class="w-12 h-12 bg-[#f04e00]/10 rounded-lg flex items-center justify-center flex-shrink-0">
                <svg class="w-6 h-6 text-[#f04e00]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                </svg>
              </div>
              <div>
                <h4 class="font-semibold text-gray-900">Fast Response</h4>
                <p class="text-sm text-gray-600">Entertainment agility applied to service</p>
              </div>
            </div>
          </div>
        </div>
        
        <div class="relative">
          <div class="aspect-[4/3] rounded-2xl overflow-hidden shadow-2xl">
            <img 
              src="https://images.unsplash.com/photo-1600047509807-ba8f99d2cdde?w=800&h=600&fit=crop" 
              alt="CLIC Real Estate team led by Ren√© Castillo"
              class="w-full h-full object-cover"
            />
          </div>
          <!-- Play button overlay for video -->
          <div class="absolute inset-0 flex items-center justify-center">
            <a 
              href="/en/videos/celebrity-homes/introducing-rene-castillo"
              class="w-20 h-20 bg-white/90 rounded-full flex items-center justify-center shadow-lg hover:scale-110 transition-transform"
            >
              <svg class="w-10 h-10 text-[#f04e00] ml-1" fill="currentColor" viewBox="0 0 24 24">
                <path d="M8 5v14l11-7z"/>
              </svg>
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ‚úÖ REAL DATA: Testimonials -->
  {testimonials && testimonials.length > 0 && (
    <Testimonials 
      testimonials={testimonials}
      title="What Our Clients Say"
      subtitle={dataSource === 'real_data' 
        ? "Real testimonials from satisfied clients" 
        : "Ren√©'s credibility and professionalism is reflected in every transaction"
      }
    />
  )}

  <!-- ‚úÖ REAL DATA: Blog Articles -->
  {featuredArticles && featuredArticles.length > 0 && (
    <RelatedArticles 
      articles={featuredArticles}
      title="üìö Real Estate Knowledge Center"
      subtitle={dataSource === 'real_data' 
        ? "The most recent and popular articles from our blog" 
        : "Guides, analysis and advice written by Ren√© and his team of experts"
      }
      layout="featured"
    />
  )}

  <!-- CTA Section -->
  <section class="py-16 bg-gradient-to-r from-[#f04e00] to-[#ff7a3d]">
    <div class="container mx-auto px-4 text-center">
      <h2 class="text-3xl md:text-4xl font-bold text-white mb-4">
        Ready to find your ideal property?
      </h2>
      <p class="text-xl text-white/90 mb-8 max-w-3xl mx-auto">
        Join the thousands of families who have trusted Ren√© Castillo and CLIC Real Estate 
        to find their perfect home in Dominican Republic
      </p>
      
      <div class="flex flex-col sm:flex-row gap-4 justify-center mb-8">
        <a 
          href="/en/contact" 
          class="inline-flex items-center gap-2 px-8 py-4 bg-white text-[#f04e00] rounded-xl hover:bg-gray-100 transition-colors font-semibold text-lg shadow-lg"
        >
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path>
          </svg>
          Talk to Our Team
        </a>
        <a 
          href="https://wa.me/18295148080?text=Hello, I saw the CLIC Real Estate website and I'm interested in learning more about your properties" 
          target="_blank"
          class="inline-flex items-center gap-2 px-8 py-4 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-colors font-semibold text-lg shadow-lg"
        >
          <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
            <path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981z"/>
          </svg>
          Direct WhatsApp
        </a>
      </div>
      
      <!-- Contact Info -->
      <div class="flex flex-col sm:flex-row items-center justify-center gap-6 text-white/80">
        <span class="flex items-center gap-2">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
          </svg>
          (829) 514-8080
        </span>
        <span class="flex items-center gap-2">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
          </svg>
          C. Erik Leonard Ekman 34, Santo Domingo
        </span>
        <span class="flex items-center gap-2">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
          </svg>
          Mon-Fri 9:00-18:00 | Sat 9:00-15:00
        </span>
      </div>
    </div>
  </section>

  <!-- Enhanced Schema.org - Invisible to users -->
  <script type="application/ld+json" set:html={JSON.stringify({
    "@context": "https://schema.org",
    "@type": "RealEstateAgent",
    "name": "CLIC Real Estate",
    "alternateName": "The Content Real Estate Company",
    "legalName": "CLIC Inmobiliaria SRL",
    "founder": {
      "@type": "Person",
      "name": "Ren√© Castillo",
      "jobTitle": "Founder and TV Presenter",
      "description": "Dominican presenter with 18 years of television experience and 6 years founding real estate companies",
      "knowsAbout": [
        "Dominican Republic Real Estate",
        "Punta Cana Properties", 
        "Santo Domingo Real Estate Investment",
        "Dominican Republic Television",
        "Dominican Entertainment",
        "Real Estate Marketing"
      ],
      "hasOccupation": {
        "@type": "Occupation",
        "name": "Television Presenter and Real Estate Entrepreneur",
        "occupationLocation": "Dominican Republic",
        "experienceRequirements": "18 years television experience, 6 years real estate"
      },
      "sameAs": [
        "https://www.instagram.com/renecastillotv/",
        "https://www.youtube.com/@clicinmobiliaria",
        "https://www.linkedin.com/in/renecastillo/",
        "https://twitter.com/renecastillotv"
      ]
    },
    "description": "CLIC Real Estate is the leading real estate company in Dominican Republic, founded by Ren√© Castillo, renowned TV presenter. Specialists in luxury properties in Santo Domingo, Punta Cana, Casa de Campo and premium areas. We offer educational real estate content and comprehensive consulting.",
    "url": "https://clicinmobiliaria.com/en",
    "logo": {
      "@type": "ImageObject",
      "url": "https://clicinmobiliaria.com/logo.png",
      "width": 400,
      "height": 400
    },
    "image": {
      "@type": "ImageObject", 
      "url": "https://clicinmobiliaria.com/rene-castillo-clic-team.jpg",
      "width": 1200,
      "height": 630
    },
    "telephone": "+1-829-514-8080",
    "email": "contacto@clic.do",
    "address": {
      "@type": "PostalAddress",
      "streetAddress": "C. Erik Leonard Ekman 34",
      "addressLocality": "Santo Domingo",
      "addressRegion": "Distrito Nacional",
      "postalCode": "10101",
      "addressCountry": "DO"
    },
    "geo": {
      "@type": "GeoCoordinates",
      "latitude": "18.4861",
      "longitude": "-69.9312"
    },
    "openingHours": [
      "Mo-Fr 09:00-18:00",
      "Sa 09:00-15:00"
    ],
    "areaServed": [
      {
        "@type": "Place",
        "name": "Santo Domingo",
        "geo": {"@type": "GeoCoordinates", "latitude": "18.4861", "longitude": "-69.9312"}
      },
      {
        "@type": "Place", 
        "name": "Punta Cana",
        "geo": {"@type": "GeoCoordinates", "latitude": "18.5601", "longitude": "-68.3725"}
      },
      {
        "@type": "Place",
        "name": "Casa de Campo",
        "geo": {"@type": "GeoCoordinates", "latitude": "18.4239", "longitude": "-68.9501"}
      },
      {
        "@type": "Place",
        "name": "Cap Cana", 
        "geo": {"@type": "GeoCoordinates", "latitude": "18.4615", "longitude": "-68.3275"}
      }
    ],
    "serviceType": [
      "Luxury property sales",
      "Premium property rentals", 
      "Real estate investment consulting",
      "Property management",
      "Educational real estate content",
      "Digital real estate marketing",
      "Consulting for foreigners"
    ],
    "hasOfferCatalog": {
      "@type": "OfferCatalog",
      "name": "CLIC Real Estate Properties",
      "itemListElement": featuredProperties.slice(0, 4).map((property, index) => ({
        "@type": "Offer",
        "itemOffered": {
          "@type": "Accommodation",
          "name": property.titulo,
          "description": `${property.tipo} with ${property.habitaciones} bedrooms in ${property.sector}`,
          "url": `https://clic.do/en/${property.slug}`
        },
        "price": property.precio,
        "availability": "InStock"
      }))
    },
    "aggregateRating": {
      "@type": "AggregateRating",
      "ratingValue": "4.9",
      "reviewCount": testimonials.length.toString(),
      "bestRating": "5",
      "worstRating": "1"
    },
    "employee": [
      {
        "@type": "Person",
        "name": "Ren√© Castillo",
        "jobTitle": "Founder and CEO"
      }
    ],
    "numberOfEmployees": "10",
    "yearEstablished": "2022",
    "sameAs": [
      "https://www.instagram.com/renecastillotv/",
      "https://www.youtube.com/@clicinmobiliaria",
      "https://www.linkedin.com/company/clic-inmobiliaria/",
      "https://clic.do",
      "https://www.facebook.com/clicinmobiliaria"
    ],
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "https://clicinmobiliaria.com/en"
    }
  })} />
</Layout>